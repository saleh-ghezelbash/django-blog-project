{% extends 'base.html' %}
{% load static %}

{% block title %}Advanced Search - Blogzine{% endblock %}

{% block content %}

<!-- =======================
Inner intro START -->
<section class="pt-4">
	<div class="container">
		<div class="row">
      <div class="col-12">
				<div class="border p-4 text-center rounded-3">
					<h1>Advanced Search</h1>
					<p class="lead mb-2">Refine your search with specific criteria</p>
					<nav class="d-flex justify-content-center" aria-label="breadcrumb">
						<ol class="breadcrumb breadcrumb-dots m-0">
							<li class="breadcrumb-item"><a href="{% url 'home' %}"><i class="bi bi-house me-1"></i> Home</a></li>
							<li class="breadcrumb-item"><a href="{% url 'search' %}">Search</a></li>
							<li class="breadcrumb-item active">Advanced</li>
						</ol>
					</nav>
				</div>
      </div>
    </div>
	</div>
</section>
<!-- =======================
Inner intro END -->

<!-- =======================
Advanced Search Form START -->
<section class="pt-0">
	<div class="container">
		<div class="row justify-content-center">
			<div class="col-lg-8">
				<div class="card border">
					<div class="card-body p-5">
						<form method="GET" action="{% url 'search' %}">
							<!-- Keyword search -->
							<div class="mb-4">
								<label class="form-label fw-bold">Keywords</label>
								<input type="text" class="form-control form-control-lg" name="q" placeholder="Enter keywords..." value="{{ request.GET.q }}">
								<div class="form-text">Search in titles, content, and tags</div>
							</div>
							
							<!-- Category filter -->
							<div class="mb-4">
								<label class="form-label fw-bold">Category</label>
								<select class="form-select" name="category">
									<option value="">All Categories</option>
									{% for category in categories %}
									<option value="{{ category.slug }}" {% if request.GET.category == category.slug %}selected{% endif %}>
										{{ category.name }}
									</option>
									{% endfor %}
								</select>
							</div>
							
							<!-- Tag filter -->
							<div class="mb-4">
								<label class="form-label fw-bold">Tag</label>
								<select class="form-select" name="tag">
									<option value="">All Tags</option>
									{% for tag in tags %}
									<option value="{{ tag.slug }}" {% if request.GET.tag == tag.slug %}selected{% endif %}>
										{{ tag.name }}
									</option>
									{% endfor %}
								</select>
							</div>
							
							<!-- Author filter -->
							<div class="mb-4">
								<label class="form-label fw-bold">Author</label>
								<input type="text" class="form-control" name="author" placeholder="Author username or name" value="{{ request.GET.author }}">
							</div>
							
							<!-- Date range -->
							<div class="row mb-4">
								<div class="col-md-6">
									<label class="form-label fw-bold">From Date</label>
									<input type="date" class="form-control" name="date_from" value="{{ request.GET.date_from }}">
								</div>
								<div class="col-md-6">
									<label class="form-label fw-bold">To Date</label>
									<input type="date" class="form-control" name="date_to" value="{{ request.GET.date_to }}">
								</div>
							</div>
							
							<!-- Sort options -->
							<div class="mb-4">
								<label class="form-label fw-bold">Sort By</label>
								<select class="form-select" name="sort">
									<option value="relevance" {% if request.GET.sort == 'relevance' %}selected{% endif %}>Relevance</option>
									<option value="newest" {% if request.GET.sort == 'newest' or not request.GET.sort %}selected{% endif %}>Newest First</option>
									<option value="oldest" {% if request.GET.sort == 'oldest' %}selected{% endif %}>Oldest First</option>
									<option value="popular" {% if request.GET.sort == 'popular' %}selected{% endif %}>Most Viewed</option>
								</select>
							</div>
							
							<!-- Submit buttons -->
							<div class="d-flex gap-3">
								<button type="submit" class="btn btn-primary btn-lg flex-grow-1">
									<i class="bi bi-search me-2"></i>Search
								</button>
								<a href="{% url 'advanced_search' %}" class="btn btn-outline-secondary btn-lg">
									<i class="bi bi-arrow-repeat me-2"></i>Reset
								</a>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>
<!-- =======================
Advanced Search Form END -->

{% endblock %}